nameOverride: api-gateway

replicaCount: 1

image:
  repository: 461508717137.dkr.ecr.us-east-1.amazonaws.com/api-gateway
  tag: sha-4f1170f
  pullPolicy: IfNotPresent

service:
  port: 80
  targetPort: 8080

containerPort: 8080

env:
  APP_NAME: "api-gateway"
  ENVIRONMENT: "dev"
  JWT_ISSUER: "fintech-auth"
  JWT_AUDIENCE: "fintech-platform"

secrets:
  enabled: true
  data:
    JWT_PUBLIC_KEY: |-
      -----BEGIN PUBLIC KEY-----
      MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA02TZQD2lW+kAbNseOsnk
      oonBn4MoBQUrBbyxvptUZ5L0dzIMEnYEFdpND4h3DqxBTNnaOSAbe/qKZ9tUp3kC
      AVyxGLFqef5MLkT/HHypWtbyLWTzFG1ZWOgjbXM5bYF0vhMxSEcBE1Or3ZBNo7g2
      X4Tz7/s+TmYxle/PwNfqNyd2pykMB8NmyVLoHTGk2tZWCZafFm33LU+7aU8SEqac
      2blzWgLyKsTNTNU1MqjmyxJMEKb/YjO5DxKFOUPSiEQfzpH0K/qSASNINX6oOs2Y
      Y2XSc6HipA9Q0767Hwhk5+y+Ap8F9g7DJVF1qGDWnzIfV9jUZmDSqnW6xSGX3Xej
      CQIDAQAB
      -----END PUBLIC KEY-----

readinessProbe:
  enabled: true
  path: /readyz
  initialDelaySeconds: 5
  periodSeconds: 10

livenessProbe:
  enabled: true
  path: /healthz
  initialDelaySeconds: 10
  periodSeconds: 10

ingress:
  enabled: true
  className: alb
  hosts:
    - host: api-dev.fintech.local
      paths:
        - path: /
          pathType: Prefix
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80}]'
