nameOverride: user-service
replicaCount: 1

image:
  repository: 461508717137.dkr.ecr.us-east-1.amazonaws.com/user-service
  tag: sha-182179b
  pullPolicy: IfNotPresent

service:
  port: 80
  targetPort: 8082

containerPort: 8082

env:
  APP_NAME: "user-service"
  ENVIRONMENT: "prod"
  PORT: "8082"

  DB_HOST: "fintech-platform-user-db.caley62smz6e.us-east-1.rds.amazonaws.com"
  DB_PORT: "5432"
  DB_NAME: "user_service"
  DB_USER: "useradmin"
  DB_SSLMODE: "require"

secrets:
  enabled: true
  existingSecretName: user-service-secret
  keys:
    - DB_PASSWORD

readinessProbe:
  enabled: true
  path: /readyz
  initialDelaySeconds: 5
  periodSeconds: 10

livenessProbe:
  enabled: true
  path: /healthz
  initialDelaySeconds: 10
  periodSeconds: 10

extraEnv:
  - name: OTEL_EXPORTER_OTLP_ENDPOINT
    value: "http://otel-collector.observability.svc.cluster.local:4317"
  - name: OTEL_EXPORTER_OTLP_PROTOCOL
    value: "grpc"
  - name: OTEL_SERVICE_NAME
    value: "auth-service"
  - name: OTEL_RESOURCE_ATTRIBUTES
    value: "deployment.environment=prod"
